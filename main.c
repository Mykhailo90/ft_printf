/* ************************************************************************** *//*                                                                            *//*                                                        :::      ::::::::   *//*   main.c                                             :+:      :+:    :+:   *//*                                                    +:+ +:+         +:+     *//*   By: msarapii <marvin@42.fr>                    +#+  +:+       +#+        *//*                                                +#+#+#+#+#+   +#+           *//*   Created: 2018/01/30 16:34:49 by msarapii          #+#    #+#             *//*   Updated: 2018/01/30 16:34:51 by msarapii         ###   ########.fr       *//*                                                                            *//* ************************************************************************** */ #include "ft_printf.h"// void print_er(char *str)// {// 	int i;// 	int flag;// 	i = 0;// 	flag = 0;// 	write(1, "%", 1);// 	while (str[i] != '\0' && str[i] != '%')// 	{// 		if (str[i] == '.' && str[i + 1] == '.' && flag == 0)// 		{// 			write(1, ".0", 2);// 			i++;// 			flag++;// 		}// 		ft_putchar(str[i++]);// 	}// }void set_list_null(t_list *com){	com->size = NULL;	com->precision = NULL;	com->width = NULL;	com->flags = NULL;}// void	form_string(va_list argptr, char *str, t_list *com)// {// 	char ch;// 	char *res_str;// 	ch = com->specificator;// 	if ((ch == 'd' || ch == 'i') && com->size == NULL)// 		res_str = ft_itoa(va_arg(argptr, int));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "hh")))// 		res_str = ft_itoa((signed char)va_arg(argptr, size_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "h")))// 		res_str = ft_itoa((short)va_arg(argptr, size_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "ll")))// 		res_str = ft_itoa((long long)va_arg(argptr, size_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "l")))// 		res_str = ft_itoa((long)va_arg(argptr, size_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "j")))// 		res_str = ft_itoa((intmax_t)va_arg(argptr, intmax_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "z")))// 		res_str = ft_itoa((size_t)va_arg(argptr, size_t));// 	else if ((ch == 'd' || ch == 'i') && (!ft_strcmp(com->size, "t")))// 		res_str = ft_itoa((ptrdiff_t)va_arg(argptr, ptrdiff_t));// 	ft_putstr(res_str);// }// void struct_str(char *str, int i)// {// 	char *str_f;// 	int i;// 	i = 0;// 	while (str[i] != '%' && str[i] != '\0')// 		i++;// 	str_f = ft_strnew(i);// 	str_f = ft_strncpy(str_f, str, i);	// }void read_com_str(t_list *com, char *str){	set_list_null(com);	search_specificator(com, str);	search_flags(com, str);	search_width(com, str);	search_precision(com, str);	search_size(com, str);}void	ft_printf(char *str, ...){	va_list argptr;	t_list com;	int i;	char *head;	i = 0;	head = str;	va_start(argptr, str);	while (str[i] != '\0')	{		if (str[i] == '%')		{			read_com_str(&str[++i], &com);			form_string(argptr, head, &com);			while (is_input_spec(str[++i - 1]) == -1)				;		}		else			ft_putchar(str[i]);		i++;	}	va_end(argptr);}// Разобраться со значениями в циклах!!!int		main(void){//	t_list test;//	read_com_str(&test, "0.1+hhh-#.ll6l0 0hd");	//	printf("prec=%s\n", test.size);	// int i;	// int n;	// i = 777;	// n = 777;	//printf("%-10.+-012d", 10);	// ft_printf("Eto idend D = %10..d is N = %d is%dabc\n", i, n);	return 0; }